services:
  - type: web
    name: legal-assist-ai
    env: python
    buildCommand: pip install -r requirements.txt && python -m spacy download en_core_web_lg && python -c "import nltk; nltk.download('punkt'); nltk.download('stopwords'); nltk.download('averaged_perceptron_tagger')"
    startCommand: streamlit run app.py --server.port=$PORT --server.address=0.0.0.0 --server.headless=true
    envVars:
      - key: OPENAI_API_KEY
        sync: false
      - key: LLM_MODEL
        value: gpt-4
        sync: false
    healthCheckPath: /_stcore/health
    plan: starter

